<div class="container">
    <table class="table" *loaded="this.rows">
        <thead class="headers">
            <ng-container *ngFor="let column of columns">
                <ng-container *ngIf="tableDetails?.isSortable; else notSortableHeader">
                    <app-sort-header 
                        class="header" 
                        [column]="column.value" 
                        [context]="sortHeaderContext" 
                        (sortChange)="handleSortChange($event)">
                </app-sort-header>
                </ng-container>
                <ng-template #notSortableHeader>
                    <div class="header">
                        <span>{{column}}</span>
                    </div>
                </ng-template>
            </ng-container>
        </thead>
        <tbody>
            <tr *ngFor="let row of rows">
                <td *ngFor="let column of columns">
                    {{row[column.header]}}
                </td>
            </tr>
        </tbody>
    </table>
    <div class="no-data" *ngIf="this.tableDetails?.noDataMessage && this.rows!.length < 1">
        <h2>
            {{tableDetails?.noDataMessage}}
        </h2>
    </div>
    <ng-container *ngIf="tableDetails?.paginationDetails">
        <app-paginator 
            [paginationInfo]="tableDetails?.paginationDetails?.paginationInfo" 
            (pageChange)="updatePageOptions({ page: $event })" 
            (pageSizeChange)="updatePageOptions({ size: $event })">
        </app-paginator>
    </ng-container>
</div>
